@using Chromaliste.Web.Core;

@{
    var nbPkmsTotal = (Context.Outputs["PokemonJson"].First().ToList().First().Value as System.Collections.Generic.List<dynamic>).Count();
    var nbPkmsDistinct = Context.Outputs["Posts"].Select(x => x["Number"]).Distinct().Count();
    var nbPkms = Context.Outputs["Posts"].Count();
    var percent = nbPkmsDistinct * 100.0 / nbPkmsTotal;
}

<div class="explore">
    <div class="explore__devider">
        ------ Pokémon chromatiques : @nbPkmsDistinct/@nbPkms (@string.Format("{0:0.0}%", percent)) |
        <script type="text/javascript">randomizePost()</script> ------
    </div>
    <ul class="categories">
        @foreach (string category in Context.Outputs["Posts"].Select<IDocument, string>(x => (string)x["Category"]).Distinct().OrderBy(x => x))
        {
            <li class="categories__item"><a href="@Context.GetLink("/")categories/@(category.Slugify())">@category</a></li>
        }
    </ul>
    <div class="explore__label">
        Thème <a href="https://github.com/kronik3r/daktilo">Daktilo</a> sous licence MIT.</br>
        Pokémon et tous les noms respectifs sont des marques déposées et © de Nintendo 1996-2018.
    </div>
</div>